<html>
<head>

    <title>Listing</title>
    <script src="../../lib/axios/dist/axios.standalone.js"></script>
    <script src="../../lib/CryptoJS/rollups/hmac-sha256.js"></script>
    <script src="../../lib/CryptoJS/rollups/sha256.js"></script>
    <script src="../../lib/CryptoJS/components/enc-base64.js"></script>
    <script src="../../lib/CryptoJS/components/hmac.js"></script>
    <script src="../../lib/url-template/url-template.js"></script>

    <script src="../../lib/apiGatewayCore/sigV4Client.js"></script>
    <script src="../../lib/apiGatewayCore/simpleHttpClient.js"></script>
    <script src="../../lib/apiGatewayCore/utils.js"></script>
    <script src="../../lib/apiGatewayCore/apiGatewayClient.js"></script>
    <script src="../Scripts/apigClient.js"></script>




    <script type="text/javascript" src="apigClient.js"></script>
</head>

<body>

    <button onclick="GetCityList()">City List </button>

    <div id="myresult" />
    <script>
        function GetCityList() {
            alert("Get City List");
            var apigClient = apigClientFactory.newClient();
            var params = {};
            var body = {
                "CountryId": 2031,
                "Id": 0,
                "LanguageCode": "en",
                "OrderBy": "Id",
                "Size": 10,
                "SortDirection": "asc",
                "Start": 0,
                "Title": ""
            };
            var additionalParams = {};
            apigClient.cityListPost(params, body, additionalParams)
                .then(function (result) {
                    alert("Success");
                    var str = "";
                    debugger;
                    for (var i = 0; i < result.data.length; i++) {
                        str = str + result.data[i].Id + "-" + result.data[i].Title + "</br>"
                    }
                    document.getElementById('myresult').innerHTML = str;
                }).catch(function (result) {
                    alert("Fail");
                });

        }




    </script>
</body>

</html>
